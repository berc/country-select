webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(326)},326:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=t(327),i=n(o),r=t(329),u=n(r),l=t(402),c=n(l),s=t(404),a=n(s),d=t(439),f=n(d),p=t(468),h=n(p);t(472),t(437);var $=t(409);window.jQuery=$,t(474),i.default.module("app",[u.default,c.default,a.default,f.default]).config(["$locationProvider",function(e){"ngInject";e.html5Mode(!0).hashPrefix("!")}]).run(["serverMockService",function(e){"ngInject";e.init()}]).component("app",h.default)},404:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(327),i=n(o),r=t(405),u=n(r),l=t(406),c=n(l),s=t(436),a=n(s),d=t(438),f=n(d),p=i.default.module("CommonModule",[a.default]).directive("editableSelect",c.default).factory("config",u.default).factory("serverMockService",f.default).name;exports.default=p},405:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){var e="/countries";return{COUNTRIES_API_BASE:e}};exports.default=t},406:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(407),i=n(o),r=t(408),u=n(r);t(432);var l=function(){return{restrict:"E",scope:{other:"<",selectOptions:"<",onSelectedOption:"&",onChangedText:"&"},template:i.default,controller:u.default,controllerAs:"$ctrl"}};exports.default=l},407:function(e,exports){e.exports='<div class="editable-select">\n  <div class="input-group dropdown">\n    <input name="editable-select"\n           type="text"\n           pattern="^[A-Za-z]*$" maxlength="20"\n           class="form-control dropdown-toggle editable-select__input"\n           ng-disabled="isDisabled"\n           ng-change="$ctrl.onChanged($ctrl.inputText)"\n           ng-model="$ctrl.inputText">\n    <ul class="dropdown-menu">\n      <li ng-repeat="option in selectOptions" class="editable-select__option--hover"\n          ng-click="$ctrl.onSelected(option)"\n          ng-bind="::option.label">\n      </li>\n      <li ng-if="other" role="presentation" class="divider"></li>\n      <li ng-if="other" ng-bind="other"></li>\n    </ul>\n  </div>\n</div>\n'},408:function(e,exports,t){(function($){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(410),o=e(n),i=t(411),r=e(i),u=t(430),l=e(u),c=2,s=function(){function e(t,n){(0,o.default)(this,e),this.$scope=t,this.$timeout=n}return(0,r.default)(e,[{key:"$onInit",value:function(){this.dropdownElem=$(".dropdown-menu"),this.inputElem=$(".editable-select__input"),this.resetInputText(),this.isValid=!0,this.isDisabled=!1,this.watchOptions(),this.setupOnChangedThrottled()}},{key:"$onDestroy",value:function(){this.unwatch()}},{key:"watchOptions",value:function(){var e=this;this.unwatch=this.$scope.$watch("selectOptions",function(t){e.$scope.$applyAsync(function(){return(t&&t.length)>0?e.dropdownElem.show():e.dropdownElem.hide()})})}},{key:"setupOnChangedThrottled",value:function(){var e=this;this.onChangedThrottled=l.default.throttle(function(t){return e.$scope.$applyAsync(function(){return e.$scope.onChangedText(t)})},500)}},{key:"onChanged",value:function(e){(!e||e&&e.length>=c)&&this.onChangedThrottled({value:e})}},{key:"onSelected",value:function(e){this.resetInputText(),this.$scope.onSelectedOption({option:e})}},{key:"resetInputText",value:function(){this.inputText=""}}]),e}();exports.default=["$scope","$timeout",s]}).call(exports,t(409))},432:function(e,exports,t){var n=t(433);"string"==typeof n&&(n=[[e.id,n,""]]);t(435)(n,{});n.locals&&(e.exports=n.locals)},433:function(e,exports,t){exports=e.exports=t(434)(),exports.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif}.navbar-collapse{background:#f5f5f5}.editable-select input[name=editable-select]:disabled{background-color:#fff}.editable-select .dropdown-menu:hover{cursor:pointer}.editable-select .dropdown-menu>li{padding-left:10px}.editable-select .dropdown-menu>li:hover{background-color:#337ab7;color:#fff}.editable-select input[pattern]:invalid{color:red}",""])},438:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(430),i=n(o),r=function(e,t){function n(){e.whenRoute("GET",""+t.COUNTRIES_API_BASE).respond(function(e,t,n,r,u){if(!i.default.isString(u.search))return[404,[],{}];var l=o.filter(function(e){return 0===e.label.toLowerCase().indexOf(u.search.toLowerCase())});return[l.length>0?200:404,l,{}]}),e.whenRoute("POST",""+t.COUNTRIES_API_BASE).respond(function(e,t,n){var o=JSON.parse(n);return o.isoCodes&&void 0!==o.isoCodes.length?[204,"",{}]:[400,"",{}]})}var o=[{id:"AUT",label:"Austria"},{id:"ARG",label:"Argentina"},{id:"ARK",label:"Arktida"},{id:"AUS",label:"Australia"},{id:"ANG",label:"Angora"},{id:"ANT",label:"Antarktida"}];return{init:n}};exports.default=["$httpBackend","config",r]},439:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(327),i=n(o),r=t(440),u=n(r),l=i.default.module("app.components",[u.default]).name;exports.default=l},440:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(327),i=n(o),r=t(329),u=n(r),l=t(404),c=n(l),s=t(441),a=n(s),d=t(446),f=n(d),p=t(447),h=n(p),v=i.default.module("CountrySelectModule",[u.default,c.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("countrySelect",{url:"/",component:"countrySelect"})}]).component("countrySelect",a.default).factory("countrySelectService",h.default).factory("countrySelectApiService",f.default).name;exports.default=v},441:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(442),i=n(o),r=t(443),u=n(r);t(444);var l={bindings:{},template:i.default,controller:u.default};exports.default=l},442:function(e,exports){e.exports='<main class="country-select">\n\n  <div class="row">\n    <h1 id="select-country-caption">Selection of Countries</h1>\n    <div class="country-select__start-game col-xs-12 col-md-4">\n      <p class="form-group">\n        <label for="select-country-elem">Country</label>\n        <editable-select id="select-country-elem" select-options="$ctrl.filteredCountries"\n                         on-selected-option="$ctrl.onSelectedOption(option)"\n                         on-changed-text="$ctrl.onChangedSearchText(value)">\n        </editable-select>\n      </p>\n      <p class="form-group">\n        <label for="selected-countries">Selected</label>\n        <ul id="selected-countries">\n          <li ng-repeat="country in $ctrl.selectedCountries track by country.id"><span ng-bind="::country.label"></span><a href="javascript:void(0)" ng-click="$ctrl.removeSelectedCountry(country.id)"><span class="glyphicon">&#xe014;</span></a></li>\n        </ul>\n      </p>\n      <p class="form-group">\n        <button type="button" class="btn btn-primary btn-lg" ng-click="$ctrl.sendSelectedCountries()">Submit</button>\n      </p>\n      <p class="form-group">\n        {{$ctrl.submitResult}}\n      </p>\n    </div>\n  </div>\n\n</main>\n'},443:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(410),i=n(o),r=t(411),u=n(r),l=function(){function e(t,n,o){(0,i.default)(this,e),this.filteredCountries=[],this.selectedCountries={},this.$rootScope=t,this.countrySelectService=n,this.config=o,this.submitResult=""}return(0,u.default)(e,[{key:"$onInit",value:function(){this.clearOptions(),this.clearSelectedCountries()}},{key:"onChangedSearchText",value:function(e){var t=this;return e?void this.countrySelectService.searchCountries(e,this.selectedCountries).then(function(e){t.filteredCountries=e}):void this.clearOptions()}},{key:"sendSelectedCountries",value:function(){var e=this;this.countrySelectService.sendSelectedCountries(this.selectedCountries).then(function(){e.clearOptions(),e.clearSelectedCountries(),e.submitResult="Successful submit."},function(t){e.submitResult="Failed submit. Error status: "+t.status})}},{key:"removeSelectedCountry",value:function(e){delete this.selectedCountries[e]}},{key:"onSelectedOption",value:function(e){this.selectedCountries[e.id]=e,this.clearOptions()}},{key:"clearOptions",value:function(){this.filteredCountries=[]}},{key:"clearSelectedCountries",value:function(){this.selectedCountries={}}}]),e}();exports.default=["$rootScope","countrySelectService","config",l]},444:function(e,exports,t){var n=t(445);"string"==typeof n&&(n=[[e.id,n,""]]);t(435)(n,{});n.locals&&(e.exports=n.locals)},445:function(e,exports,t){exports=e.exports=t(434)(),exports.push([e.id,".country-select{padding:0 2em 2em}.country-select__start-game{padding:2em}#selected-countries .glyphicon{margin-left:1rem}",""])},446:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n){function o(o){return e.get(n.COUNTRIES_API_BASE+"?search="+o).then(function(e){return e.data},function(e){return 404===e.status?[]:t.reject(e)})}function i(t){return e.post(""+n.COUNTRIES_API_BASE,{isoCodes:t}).then(function(e){return e.data})}return{searchCountries:o,sendSelectedCountries:i}};exports.default=["$http","$q","config",t]},447:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(448),i=n(o),r=function(e){function t(t,n){return e.searchCountries(t).then(function(e){return e.filter(function(e){return!n[e.id]})})}function n(t){var n=(0,i.default)(t).map(function(e){return t[e]}).map(function(e){return e.id});return e.sendSelectedCountries(n)}return{searchCountries:t,sendSelectedCountries:n}};exports.default=["countrySelectApiService",r]},468:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(469),i=n(o);t(470);var r={template:i.default};exports.default=r},469:function(e,exports){e.exports='<div class="app container">\n  <navbar></navbar>\n  <div class="body" ui-view></div>\n</div>\n'},470:function(e,exports,t){var n=t(471);"string"==typeof n&&(n=[[e.id,n,""]]);t(435)(n,{});n.locals&&(e.exports=n.locals)},471:function(e,exports,t){exports=e.exports=t(434)(),exports.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif}.navbar-collapse{background:#f5f5f5}.app{height:100%}",""])}});
//# sourceMappingURL=app.bundle.js.map